<%= form_with(model: service, html: { class: 'box p-5 has-background-light', style: "max-width: 700px; margin: auto;" }) do |form| %>

  <% if service.errors.any? %>
    <div class="notification is-danger is-light mb-4">
      <h2 class="subtitle is-6 has-text-weight-semibold has-text-dark">
        <%= t('services.form.errors.header', count: service.errors.count) %>
      </h2>
      <ul class="ml-3">
        <% service.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="columns is-multiline">
    <!-- Name -->
    <div class="column is-full">
      <%= form.label :name, t('services.form.name'), class: "label has-text-weight-semibold" %>
      <div class="control has-icons-left">
        <%= form.text_field :name, class: "input is-rounded is-fullwidth", placeholder: "e.g., Cognitive Therapy" %>
        <span class="icon is-small is-left"><i class="fas fa-pencil-alt"></i></span>
      </div>
    </div>

    <!-- Description -->
    <div class="column is-full">
      <%= form.label :description, t('services.form.description'), class: "label has-text-weight-semibold" %>
      <div class="control">
        <%= form.text_area :description, class: "textarea is-rounded is-fullwidth", rows: 5, placeholder: "Detailed description of your service" %>
      </div>
    </div>

    <!-- Price -->
    <div class="column is-half-tablet is-full-mobile">
      <%= form.label :price, t('services.form.price'), class: "label has-text-weight-semibold" %>
      <div class="control has-icons-left">
        <%= form.number_field :price, step: 0.01, min: 0, class: "input is-rounded is-fullwidth", placeholder: "100.00" %>
        <span class="icon is-small is-left"><i class="fas fa-dollar-sign"></i></span>
      </div>
    </div>

    <!-- Currency -->
    <div class="column is-half-tablet is-full-mobile">
      <%= form.label :currency, t('services.form.currency'), class: "label has-text-weight-semibold" %>
      <div class="control has-icons-left">
        <div class="select is-rounded is-fullwidth">
          <%= form.select :currency, options_for_select(['KGS', 'KZT', 'UZS', 'USD', 'RUB'], selected: form.object.currency), { include_blank: t('services.form.select_currency') }, class: "is-fullwidth" %>
        </div>
        <span class="icon is-small is-left"><i class="fas fa-money-bill-wave"></i></span>
      </div>
    </div>

    <!-- Duration -->
    <div class="column is-half-tablet is-full-mobile">
      <%= form.label :duration_minutes, t('services.form.duration'), class: "label has-text-weight-semibold" %>
      <div class="control has-icons-left">
        <%= form.number_field :duration_minutes, class: "input is-rounded is-fullwidth", placeholder: "Minutes" %>
        <span class="icon is-small is-left"><i class="fas fa-clock"></i></span>
      </div>
    </div>

    <!-- Delivery Method -->
    <div class="column is-half-tablet is-full-mobile">
      <%= form.label :delivery_method, t('services.form.delivery_method'), class: "label has-text-weight-semibold" %>
      <div class="control">
        <div class="select is-rounded is-fullwidth">
          <%= form.select :delivery_method, Service.delivery_methods.keys.map { |key| [t(key, scope: "services.attributes.delivery_method"), key] }, { include_blank: t('services.form.select_delivery_method') } %>
        </div>
      </div>
    </div>

    <!-- Save Button -->
    <div class="column is-full">
      <%= form.submit t('services.form.save'), class: "button is-primary is-fullwidth is-rounded has-text-weight-semibold" %>
    </div>
  </div>
<% end %>

<!-- Delete button (small & outlined) -->
<%= button_to t('button_to.destroy'), @service, method: :delete, class: "button is-danger is-outlined is-small is-rounded mt-2 has-text-weight-semibold" %>
