# db/seeds/bdi_13.ru.rb

user =  User.find_by(id: 1) || User.find_by(id: 10) || User.first || raise("You need at least one user in the DB to assign the quiz.")

bdi_13 = Quiz.create!(
  title: "BDI-II (Beck Depression Inventory, 13 групп)",
  description: "Определяет уровень депрессивных симптомов. Выберите по одному утверждению из каждой группы, которое наиболее точно отражает ваше состояние.",
  user: user
)

# Questions for each group (13 total)
questions_texts = [
  "Группа A: Печаль",
  "Группа B: Пессимизм относительно будущего",
  "Группа C: Чувство неудачника",
  "Группа D: Неудовлетворенность",
  "Группа E: Чувство вины",
  "Группа F: Разочарование в себе",
  "Группа G: Мысли о самоубийстве",
  "Группа H: Потеря интереса к другим",
  "Группа I: Затруднения в принятии решений",
  "Группа J: Оценка внешности",
  "Группа K: Трудности с работой",
  "Группа L: Усталость",
  "Группа M: Аппетит"
]

# Options for each question
options_texts = [
  ["Я не испытываю чувства печали, тоски или грусти",
   "Я испытываю чувство печали, тоски или грусти",
   "Я постоянно испытываю чувство печали, тоски или грусти и не могу от него избавиться",
   "Мне настолько печально, тоскливо или грустно, что я не могу этого вынести"],

  ["Будущее не представляется мне особенно мрачным",
   "Будущее кажется мне мрачным",
   "Будущее кажется мне мрачным и я не жду от него ничего хорошего",
   "Я чувствую, что мое будущее безнадежно и что ничего нельзя изменить"],

  ["Я не чувствую, что я неудачник",
   "Я чувствую, что у меня неудач больше, чем у других",
   "Когда я оглядываюсь на свою жизнь, она представляется мне цепью неудач",
   "Я чувствую, что я абсолютный неудачник (как родитель, супруг и т.п.)"],

  ["Я не испытываю особой неудовлетворенности",
   "Я не получаю того удовольствия, что было прежде",
   "Я перестал получать удовлетворение от чего бы то ни было",
   "Я всем недоволен"],

  ["Я не чувствую за собой особой вины",
   "Большую часть времени я чувствую, что я плохой или недостойный человек",
   "Я постоянно испытываю чувство вины",
   "Я не чувствую, что я очень плохой или недостойный человек"],

  ["Я не разочарован в себе",
   "Я разочарован в себе",
   "Я противен себе",
   "Я ненавижу себя"],

  ["Мне не приходит в голову вредить себе",
   "Я чувствую, что мне лучше было бы умереть",
   "У меня есть конкретный план самоубийства",
   "Я покончил бы с собой, если бы мне это удалось"],

  ["Я не потерял интерес к другим",
   "Люди интересуют меня меньше, чем раньше",
   "Я почти полностью потерял интерес к людям и мало думаю о них",
   "Люди совершенно не интересуют меня и я совсем не думаю о них"],

  ["Я принимаю решения также, как обычно",
   "Я стараюсь оттянуть принятие решений",
   "Мне очень трудно принимать любые решения",
   "Я полностью потерял способность принимать решения"],

  ["Мне не кажется, что я выгляжу хуже, чем обычно",
   "Меня беспокоит, что я выгляжу постаревшим и непривлекательным",
   "Я чувствую, что моя внешность все более ухудшается и непривлекательна",
   "Я чувствую, что я выгляжу уродливым и отталкивающим"],

  ["Я могу работать также, как прежде",
   "Мне нужны дополнительные усилия, чтобы приступить к работе",
   "Мне крайне трудно заставить себя взяться за что-нибудь",
   "Я совершенно не способен работать"],

  ["Я устаю не больше, чем обычно",
   "Я устаю быстрее, чем обычно",
   "Я устаю от всего",
   "Усталость не дает мне ничего делать"],

  ["Аппетит у меня не хуже, чем обычно",
   "Аппетит у меня не такой хороший, как прежде",
   "Аппетит у меня значительно хуже, чем прежде",
   "У меня совсем пропал аппетит"]
]

# Create questions and options
questions_texts.each_with_index do |text, idx|
  question = bdi_13.questions.create!(text: text, input_type: "likert")
  options_texts[idx].each_with_index do |label, score|
    question.question_options.create!(label: label, score: score)
  end
end


bdi_13.quiz_scoring_rules.create!([
  { min_score: 0,  max_score: 4,  label: "Минимальная или отсутствующая депрессия" },
  { min_score: 5,  max_score: 7,  label: "Лёгкая депрессия" },
  { min_score: 8,  max_score: 15, label: "Умеренная депрессия" },
  { min_score: 16, max_score: 39, label: "Тяжёлая депрессия" }
])

puts "BDI-II (13 items) Russian quiz seeded successfully!"
